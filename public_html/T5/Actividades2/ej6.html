<!DOCTYPE html>
<!--
Autor = Diego Rodríguez Suárez-Bustillo
Fecha = 13-nov-2014
Licencia = gpl30 
Version = 1.0
Descripcion = Realiza una página html y un script JavaScript para realizar lo siguiente:
a. Crea un formulario que muestre un listado de productos software para diferentes
SO con casillas de check para poder seleccionarlos.
b. En el formulario debe aparecer un botón de manera que al pulsarlo se informe al
usuario de todos los productos que ha seleccionado.
c. Añade los estilos que más te gusten.
-->

<!--
Copyright (C) 2014 Diego Rodríguez Suárez-Bustillo

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        Mail <input type="text" id="email" value="email@ies.com" /> 
        <input type="button" value="Validar" onclick="validarMail()"/><br>
        DNI <input type="text" id="dni" value="53649793Q" /> 
        <input type="button" value="Validar" onclick="validarDni()"/><br>
        Telf <input type="text" id="telf" value="918476638" /> 
        <input type="button" value="Validar" onclick="validarTelf()"/><br>
        <script type="text/javascript">
            function validarMail() {
                var valor = document.getElementById("email").value;
                var expresion = /\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)/;
                /**
                 * \w+
                 * ([-+.']\w+)*
                 * @
                 * \w+
                 * ([-.]\w+)*
                 * \.
                 * \w+
                 * ([-.]\w+)
                 */
                console.log(expresion);
                console.log(expresion.test(valor));
                if (expresion.test(valor)) {
//                    console.log(true);
                    return true;
                }
//                console.log(false);
                return false;
            }
            function validarDni() {
                var valor = document.getElementById("dni").value;
                var letras = ['T', 'R', 'W', 'A', 'G', 'M', 'Y', 'F', 'P', 'D', 'X', 'B', 'N', 'J', 'Z', 'S', 'Q', 'V', 'H', 'L', 'C', 'K', 'E', 'T'];
                if (!(/^\d{8}[A-Z]$/.test(valor))) {
                    return false;
                }
                if (valor.charAt(8) !== letras[(valor.substring(0, 8)) % 23])
                {
                    return false;

                }
                return true;
            }
            function validarTelf() {
                var valor = document.getElementById("telf").value;
                if (!(/^\d{9}$/.test(valor))) {
                    return false;
                }
                return true;
            }
        </script>
    </body>
</html>
